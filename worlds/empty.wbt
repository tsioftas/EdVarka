#VRML_SIM R2021a utf8
WorldInfo {
  coordinateSystem "NUE"
  gpsCoordinateSystem "WGS84"
}
Viewpoint {
  orientation 0.20424627182774435 0.93585142507472 0.28716819223250173 4.802796006715711
  position -1.507571772696089 1.1319778153519398 0.26084733914371505
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  floorSize 11 10
}
Robot {
  translation 0 0.45 0
  rotation 0 1 0 1.5708
  children [
    Compass {
    }
    GPS {
    }
    InertialUnit {
    }
    DEF CAP Solid {
      translation -0.13 -0.06 -6.11772e-08
      rotation 0.9999999999944944 2.3464099999870814e-06 -2.3464099999870814e-06 -1.5707953071795862
      children [
        DEF RIGHT_CAPS Shape {
          appearance PBRAppearance {
            baseColor 0 0 1
            roughness 1
            metalness 0
            IBLStrength 100
            normalMapFactor 14
          }
          geometry Capsule {
            height 0.5
            radius 0.04
          }
        }
      ]
      name "solid(1)"
      immersionProperties [
        ImmersionProperties {
        }
      ]
      boundingObject USE RIGHT_CAPS
      physics Physics {
        mass 0.1
        damping Damping {
          linear 1
        }
      }
    }
    DEF CAP Solid {
      translation 0.13 -0.06 -6.11772e-08
      rotation 0.9999999999944944 2.3464099999870814e-06 -2.3464099999870814e-06 -1.5707953071795862
      children [
        DEF LEFT_CAPS Shape {
          appearance PBRAppearance {
            baseColor 0 0 1
            roughness 1
            metalness 0
            IBLStrength 100
          }
          geometry Capsule {
            height 0.5
            radius 0.04
          }
        }
      ]
      name "solid(2)"
      immersionProperties [
        ImmersionProperties {
        }
      ]
      boundingObject USE LEFT_CAPS
      physics Physics {
        mass 0.1
        damping Damping {
          linear 1
        }
      }
    }
    DEF BODY Solid {
      children [
        DEF BOX Shape {
          appearance PBRAppearance {
            baseColor 1 0 0
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.3 0.05 0.5
          }
        }
      ]
      immersionProperties [
        ImmersionProperties {
        }
      ]
      boundingObject USE BOX
      physics Physics {
        mass 1.5
      }
    }
    DEF BASE_ARM Solid {
      translation 0.12 -5.0981e-08 -0.3
      rotation 1 0 0 -1.5707953071795862
      children [
        DEF CYLINDER Shape {
          appearance PBRAppearance {
            baseColor 1 1 0
            roughness 1
            metalness 0
          }
          geometry Cylinder {
            height 0.1
            radius 0.02
          }
        }
      ]
      name "solid(3)"
    }
    DEF ARM HingeJoint {
      jointParameters HingeJointParameters {
      }
      device [
        RotationalMotor {
        }
      ]
      endPoint Solid {
        translation 0.074 0.00652281 -0.438777
        rotation -0.5459369468314763 -0.41891295920227833 0.7255789293362342 1.6267253071795857
        children [
          Shape {
            appearance PBRAppearance {
              roughness 1
              metalness 0
            }
            geometry Capsule {
              height 0.17
              radius 0.02
            }
          }
        ]
        name "solid(5)"
      }
    }
    DEF BASE_ARM Solid {
      translation 0.02 -5.0981e-08 -0.3
      rotation 1 0 0 -1.5707953071795862
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 1 1 0
            roughness 1
            metalness 0
          }
          geometry Cylinder {
            height 0.1
            radius 0.02
          }
        }
      ]
      name "solid(4)"
    }
    DEF RIGHT_PROPELLER Propeller {
      shaftAxis 0 0 -1
      centerOfThrust 0.15 0.03 0
      thrustConstants 0.04 0.04
      torqueConstants 1e-07 1e-07
      device RotationalMotor {
        name "right_propeller_motor"
        acceleration 50
        maxVelocity 400
        maxTorque 15
      }
      fastHelix DEF FAST_HELIX Solid {
        translation 0.15 0.03 0.25
        rotation 1 0 0 1.5708
        children [
          DEF FAST_MAIN_HELIX_SHAPE Shape {
            appearance DEF FAST_HELIX_APPEARANCE PBRAppearance {
              baseColorMap ImageTexture {
                url [
                  "textures/blurred_helix.png"
                ]
              }
              transparency 0.5
              roughness 0.5
              metalness 0
            }
            geometry Cylinder {
              height 0.003
              radius 0.145
              side FALSE
              subdivision 24
            }
          }
        ]
      }
      slowHelix DEF SLOW_HELIX Solid {
        translation 0.15 0.03 0.25
        rotation 1 0 0 1.5708
        children [
          DEF SLOW_MAIN_HELIX_TRANSFORM Transform {
            rotation 1 0 0 1.5708
            children [
              DEF SLOW_MAIN_HELIX_GROUP Group {
                children [
                  Shape {
                    geometry Capsule {
                      height 0.02
                      radius 0.01
                    }
                  }
                  Shape {
                    geometry Cylinder {
                      height 0.07
                      radius 0.004
                    }
                  }
                  DEF RIGHT_BLADE Transform {
                    translation 0 0.09 0
                    rotation 0 1 0 0.3618
                    children [
                      DEF BLADE_SHAPE Shape {
                        appearance PBRAppearance {
                          baseColor 0.8 0.8 0.8
                          roughness 1
                          metalness 0
                        }
                        geometry Box {
                          size 0.01 0.11 0.004
                        }
                      }
                    ]
                  }
                  DEF RIGHT_BLADE Transform {
                    translation 0 -0.09 0
                    rotation 0 1 0 -0.3618
                    children [
                      DEF BLADE_SHAPE Shape {
                        appearance PBRAppearance {
                          baseColor 0.8 0.8 0.8
                          roughness 1
                          metalness 0
                        }
                        geometry Box {
                          size 0.01 0.11 0.004
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      }
    }
    DEF LEFT_PROPELLER Propeller {
      shaftAxis 0 0 -1
      centerOfThrust -0.15 0.03 0
      thrustConstants 0.04 0.04
      torqueConstants 1e-07 1e-07
      device RotationalMotor {
        name "left_propeller_motor"
        acceleration 50
        maxVelocity 400
        maxTorque 15
      }
      fastHelix DEF FAST_HELIX Solid {
        translation -0.15 0.03 0.25
        rotation 1 0 0 1.5708
        children [
          DEF FAST_MAIN_HELIX_SHAPE Shape {
            appearance DEF FAST_HELIX_APPEARANCE PBRAppearance {
              baseColorMap ImageTexture {
                url [
                  "textures/blurred_helix.png"
                ]
              }
              transparency 0.5
              roughness 0.5
              metalness 0
            }
            geometry Cylinder {
              height 0.003
              radius 0.145
              side FALSE
              subdivision 24
            }
          }
        ]
      }
      slowHelix DEF SLOW_HELIX Solid {
        translation -0.15 0.03 0.25
        rotation 1 0 0 1.5708
        children [
          DEF SLOW_MAIN_HELIX_TRANSFORM Transform {
            rotation 1 0 0 1.5708
            children [
              DEF SLOW_MAIN_HELIX_GROUP Group {
                children [
                  Shape {
                    geometry Capsule {
                      height 0.02
                      radius 0.01
                    }
                  }
                  Shape {
                    geometry Cylinder {
                      height 0.07
                      radius 0.004
                    }
                  }
                  DEF RIGHT_BLADE Transform {
                    translation 0 0.09 0
                    rotation 0 1 0 0.3618
                    children [
                      DEF BLADE_SHAPE Shape {
                        appearance PBRAppearance {
                          baseColor 0.8 0.8 0.8
                          roughness 1
                          metalness 0
                        }
                        geometry Box {
                          size 0.01 0.11 0.004
                        }
                      }
                    ]
                  }
                  DEF RIGHT_BLADE Transform {
                    translation 0 -0.09 0
                    rotation 0 1 0 -0.3618
                    children [
                      DEF BLADE_SHAPE Shape {
                        appearance PBRAppearance {
                          baseColor 0.8 0.8 0.8
                          roughness 1
                          metalness 0
                        }
                        geometry Box {
                          size 0.01 0.11 0.004
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      }
    }
    DEF ARM HingeJoint {
      jointParameters HingeJointParameters {
      }
      device [
        RotationalMotor {
        }
      ]
      endPoint Solid {
        translation -0.0952797 0.00563939 -0.446685
        rotation -0.8564743399428695 -0.4357641729589743 0.2766971098237333 1.65616
        children [
          Shape {
            appearance PBRAppearance {
              roughness 1
              metalness 0
            }
            geometry Capsule {
              height 0.17
              radius 0.02
            }
          }
        ]
        name "solid(6)"
      }
    }
  ]
  immersionProperties [
    ImmersionProperties {
      fluidName "swimming pool"
    }
  ]
  boundingObject USE BOX
  physics Physics {
    mass 2
    damping Damping {
      linear 1
      angular 0.6
    }
  }
  controller "main_controller"
}
DEF SWIMMING_POOL SolidPipe {
  translation 0 0.25 0
  height 0.5
  radius 3.5
  appearance DEF DARK_BROWN PBRAppearance {
    baseColor 0.501961 0.337255 0.2
    roughness 1.1102230246251565e-16
    metalness 0
  }
}
DEF STILL_WATER Fluid {
  translation 0 0.2 0
  children [
    DEF S Shape {
      appearance DEF WATER_APPEARANCE PBRAppearance {
        baseColor 0 0.501961 1
        transparency 0.5
        roughness 1.1102230246251565e-16
        metalness 0
      }
      geometry Cylinder {
        height 0.4
        radius 3.4
        subdivision 24
      }
    }
  ]
  name "swimming pool"
  boundingObject USE S
}
DEF SWIMMING_POOL_BOTTOM Transform {
  translation 0 0.02 0
  children [
    Shape {
      appearance USE DARK_BROWN
      geometry Cylinder {
        height 0.02
        radius 3.5
        subdivision 24
      }
    }
  ]
}
